exports.up=async function(e){await e.schema.hasTable("requests")||await e.schema.createTable("requests",(function(e){e.string("requestId",26).primary(),e.string("sessionId",26).notNullable().references("sessionId").inTable("sessions"),e.text("requestContent").notNullable(),e.text("responseContent").notNullable(),e.timestamp("startedAt").notNullable(),e.timestamp("endedAt").notNullable(),e.integer("tookMillis").notNullable(),e.integer("inputTokens").notNullable(),e.integer("outputTokens").notNullable(),e.integer("totalTokens").notNullable(),e.decimal("cost",10,6).notNullable(),e.integer("filesChanged").defaultTo(0),e.integer("insertions").defaultTo(0),e.integer("deletions").defaultTo(0),e.integer("testFilesChanged").defaultTo(0),e.integer("testInsertions").defaultTo(0),e.integer("testDeletions").defaultTo(0),e.integer("linesChanged").defaultTo(0),e.integer("testLinesChanged").defaultTo(0),e.string("workspaceName",255),e.integer("cacheWriteTokens").defaultTo(0),e.integer("cacheReadTokens").defaultTo(0)}))},exports.down=async function(e){await e.schema.dropTableIfExists("requests")};